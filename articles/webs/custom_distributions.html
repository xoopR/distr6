<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Custom Distributions • distr6</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><!-- docsearch --><script src="../../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Custom Distributions">
<meta property="og:description" content="distr6">
<meta property="og:image" content="https://alan-turing-institute.github.io/distr6/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">distr6</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basic
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/webs/intro_to_r6.html">Introduction to R6</a>
    </li>
    <li>
      <a href="../../articles/webs/constructing_a_distribution.html">Constructing a Distribution</a>
    </li>
    <li>
      <a href="../../articles/webs/parameters.html">Getting and Setting Parameters</a>
    </li>
    <li>
      <a href="../../articles/webs/statistical_methods.html">Statistical Methods</a>
    </li>
    <li>
      <a href="../../articles/webs/properties_traits.html">Properties and Traits</a>
    </li>
    <li>
      <a href="../../articles/webs/multivariates.html">Multivariate Distributions</a>
    </li>
    <li>
      <a href="../../articles/webs/listing.html">Listing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/webs/s3_piping.html">S3 and Piping</a>
    </li>
    <li>
      <a href="../../articles/webs/decorators.html">Decorators</a>
    </li>
    <li>
      <a href="../../articles/webs/wrappers.html">Wrappers</a>
    </li>
    <li>
      <a href="../../articles/webs/custom_distributions.html">Custom Distributions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extension Guidelines
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/webs/preliminaries.html">Preliminaries</a>
    </li>
    <li>
      <a href="../../articles/webs/create_sdistribution.html">Creating an SDistribution</a>
    </li>
    <li>
      <a href="../../articles/webs/create_kernel.html">Creating a Kernel</a>
    </li>
    <li>
      <a href="../../articles/webs/create_decorator.html">Creating a Decorator</a>
    </li>
    <li>
      <a href="../../articles/webs/create_wrapper.html">Creating a Wrapper</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Appendices
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://raphaels1.github.io/pdfs/distr6Cheatsheet.pdf">Cheatsheet</a>
    </li>
    <li>
      <a href="../../articles/webs/api_lifecycle.html">API Lifecycle</a>
    </li>
    <li>
      <a href="../../articles/webs/analytic_and_numeric_methods.html">Analytical and Numerical Methods</a>
    </li>
    <li>
      <a href="../../articles/webs/r6_and_design_patterns.html">R6 and Design Patterns</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../reference/">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/RaphaelS1/distr6">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="custom_distributions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Custom Distributions</h1>
            
            <h4 class="date">2021-04-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/alan-turing-institute/distr6/blob/master/vignettes/webs/custom_distributions.rmd"><code>vignettes/webs/custom_distributions.rmd</code></a></small>
      <div class="hidden name"><code>custom_distributions.rmd</code></div>

    </div>

    
    
<p>The <a href="https://alan-turing-institute.github.io/distr6/articles/webs/wrappers.html">previous tutorial</a> introduced wrappers in distr6. This final tutorial puts everything we’ve learnt together to create your own custom distribution object (this is not the same as creating a new class!). All distributions implemented in distr6 inherit from class <code>SDistribution</code> this tells you that they are the ‘special distributions’ that we have implemented. <code>SDistribution</code> is an ‘abstract’ class, this means it can’t be constructed to make a <code>SDistribution</code> object, however the <code>Distribution</code> class can be.</p>
<div id="constructing-a-custom-distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#constructing-a-custom-distribution" class="anchor"></a>Constructing a Custom Distribution</h2>
<p>The most basic distribution that can be constructed consists of a name and one of pdf or cdf. But most of the time we will also require a <code>ParameterSet</code>. We will demonstrate all of this by using the running example of a custom uniform distribution.</p>
<div id="self" class="section level3">
<h3 class="hasAnchor">
<a href="#self" class="anchor"></a>self</h3>
<p>The <code>self</code> keyword is used to tell an object that it should call a method on itself. For example we have used the method <code><a href="../../reference/getParameterValue.html">getParameterValue()</a></code> on objects before but often we need the object to use this method on itself, so we use <code>self$getParameterValue()</code> this is especially important when defining d/p/q/r functions.</p>
<p>The pdf of the Uniform distribution is defined by <span class="math display">\[f(x) = 1/(b - a)\]</span> where <span class="math inline">\(b\)</span> and <span class="math inline">\(a\)</span> are upper and lower limits respectively.</p>
<p>Hence our pdf function needs to get the values of these limits, and define the distribution support</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># non-vectorised</span>
<span class="va">pdf</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="va">pdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>
  <span class="va">lower</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="fu">getParameterValue</span><span class="op">(</span><span class="st">"lower"</span><span class="op">)</span>
  <span class="va">upper</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="fu">getParameterValue</span><span class="op">(</span><span class="st">"upper"</span><span class="op">)</span>
  <span class="va">pdf</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="va">lower</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="va">upper</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="va">upper</span> <span class="op">-</span> <span class="va">lower</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">pdf</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>In distr6, all pdf and cdf functions use the first argument of <code>x</code>, for univariates this is assumed to be a vector and for multivariates a matrix.</p>
</div>
<div id="parameterset" class="section level3">
<h3 class="hasAnchor">
<a href="#parameterset" class="anchor"></a>ParameterSet</h3>
<p>We have a pdf that accesses parameters, but currently we have no parameters to access. To add these we have to first construct a <code>ParameterSet</code> objects. In fact we have seen these objects multiple times throughout these tutorials, they are what we see when we call <code><a href="../../reference/parameters.html">parameters()</a></code> on a distribution. Every time you use the <code>set/getParameterSet()</code> methods these are actually called on the <code>ParameterSet</code>. Constructing a ParameterSet is simple, you just have to remember which arguments are required, and luckily these are all given in <code><a href="../../reference/ParameterSet.html">?ParameterSet</a></code></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ps</span> <span class="op">&lt;-</span> <span class="va"><a href="../../reference/ParameterSet.html">ParameterSet</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"lower"</span>,<span class="st">"upper"</span><span class="op">)</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span><span class="op">)</span>,
                       support <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Reals.html">Reals</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>,<span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Reals.html">Reals</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,
                       settable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span>
<span class="co">#&gt;       id value support</span>
<span class="co">#&gt; 1: lower     1       ℝ</span>
<span class="co">#&gt; 2: upper    10       ℝ</span></code></pre></div>
<p>We have omitted the <code>description</code> argument as this is rarely used in custom distributions. The arguments passed to the constructor above are respectively: a unique ID for the parameter, the starting (or default) value of the parameter, the parameter support (where it can take values), and whether or not the parameter can be machine updated (i.e. can an automated procedure be used to manipulate its value).</p>
</div>
<div id="constructing-the-distribution" class="section level3">
<h3 class="hasAnchor">
<a href="#constructing-the-distribution" class="anchor"></a>Constructing the Distribution</h3>
<p>We now have the basics required to construct our custom uniform distribution, the last thing we require is the distribution support. Often the support can be omitted, in which case, the default set of Reals will be used, but in the case of the uniform distribution the support is very important.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">support</span> <span class="op">&lt;-</span> <span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Interval.html">Interval</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>
<span class="va">type</span> <span class="op">&lt;-</span> <span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Reals.html">Reals</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>
<span class="va">U</span> <span class="op">&lt;-</span> <span class="va"><a href="../../reference/Distribution.html">Distribution</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Uniform"</span>, pdf <span class="op">=</span> <span class="va">pdf</span>, parameters <span class="op">=</span> <span class="va">ps</span>, support <span class="op">=</span> <span class="va">support</span>,
                      type <span class="op">=</span> <span class="va">type</span><span class="op">)</span></code></pre></div>
<p>Other traits are automatically filled</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">U</span><span class="op">$</span><span class="va">traits</span>
<span class="co">#&gt; $type</span>
<span class="co">#&gt; ℝ </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $valueSupport</span>
<span class="co">#&gt; [1] "continuous"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $variateForm</span>
<span class="co">#&gt; [1] "univariate"</span></code></pre></div>
<p>And now we can use your distribution:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">U</span><span class="op">$</span><span class="fu">pdf</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.1111111</span>

<span class="co"># The log argument can be imputed with decorators</span>
<span class="fu"><a href="../../reference/decorate.html">decorate</a></span><span class="op">(</span><span class="va">U</span>, <span class="st">"CoreStatistics"</span><span class="op">)</span>
<span class="co">#&gt; Uniform is now decorated with CoreStatistics</span>
<span class="co">#&gt; Uniform(lower = 1, upper = 10)</span>
<span class="va">U</span><span class="op">$</span><span class="fu">pdf</span><span class="op">(</span><span class="fl">4</span>, log <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] -2.197225</span>

<span class="co"># Automatically returns 0 when outside the support</span>
<span class="va">U</span><span class="op">$</span><span class="fu">pdf</span><span class="op">(</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span>
<span class="va">U</span><span class="op">$</span><span class="fu">pdf</span><span class="op">(</span><span class="fl">11</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>But the cdf returns NULL as we never supplied a function, so we could supply one or we could impute it using the <code>FunctionImputation</code> decorator:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">U</span><span class="op">$</span><span class="fu">cdf</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; NULL</span>
<span class="fu"><a href="../../reference/decorate.html">decorate</a></span><span class="op">(</span><span class="va">U</span>, <span class="st">"FunctionImputation"</span><span class="op">)</span>
<span class="co">#&gt; Uniform is now decorated with FunctionImputation</span>
<span class="co">#&gt; Uniform(lower = 1, upper = 10)</span>
<span class="va">U</span><span class="op">$</span><span class="fu">cdf</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] 0.4444444</span>

<span class="co"># The same as expected</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">punif</a></span><span class="op">(</span><span class="fl">5</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.4444444</span></code></pre></div>
</div>
<div id="extra-arguments" class="section level3">
<h3 class="hasAnchor">
<a href="#extra-arguments" class="anchor"></a>Extra Arguments</h3>
<p>Finally a whole host of other arguments could be supplied to the Distribution to make the results more precise, the full list can be seen in <code><a href="../../reference/Distribution.html">?Distribution</a></code>. A couple of things to take care about are:</p>
<ol style="list-style-type: decimal">
<li>pdfs and cdfs should have the same number of arguments. For example if the distribution is univariate both should have one argument only (and with the same name).</li>
<li>By default the type and support are taken to be the Reals, if this is not the case then the true ones should be supplied as <a href="https://CRAN.R-project.org/package=set6">set6</a> objects.</li>
<li>valueSupport and variateForm are automatically inferred from the distribution’s type. If the type is in the Integers or Naturals then the valueSupport is taken to be discrete, otherwise continuous. If the dimension of the type is <span class="math inline">\(1\)</span> then the variateForm is taken to be univariate, multivariate otherwise. These can be overwritten for mixture and matrixvariate distributions.</li>
</ol>
</div>
</div>
<div id="putting-everything-together" class="section level2">
<h2 class="hasAnchor">
<a href="#putting-everything-together" class="anchor"></a>Putting Everything Together</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cdf</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
  <span class="va">cdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>
  <span class="va">lower</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="fu">getParameterValue</span><span class="op">(</span><span class="st">"lower"</span><span class="op">)</span>
  <span class="va">upper</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="fu">getParameterValue</span><span class="op">(</span><span class="st">"upper"</span><span class="op">)</span>
  <span class="va">cdf</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="va">upper</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span>
  <span class="va">cdf</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="va">lower</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="va">upper</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">lower</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">upper</span> <span class="op">-</span> <span class="va">lower</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">cdf</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">U</span> <span class="op">&lt;-</span> <span class="va"><a href="../../reference/Distribution.html">Distribution</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Uniform"</span>, short_name <span class="op">=</span> <span class="st">"unif"</span>, type <span class="op">=</span> <span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Reals.html">Reals</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>,
                      support <span class="op">=</span> <span class="fu">set6</span><span class="fu">::</span><span class="va"><a href="https://xoopR.github.io/set6/reference/Interval.html">Interval</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,  symmetric <span class="op">=</span> <span class="cn">TRUE</span>, pdf <span class="op">=</span> <span class="va">pdf</span>, cdf <span class="op">=</span> <span class="va">cdf</span>, parameters <span class="op">=</span> <span class="va">ps</span>, description <span class="op">=</span> <span class="st">"Custom uniform distribution"</span><span class="op">)</span>

<span class="fu"><a href="../../reference/decorate.html">decorate</a></span><span class="op">(</span><span class="va">U</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CoreStatistics"</span>, <span class="st">"ExoticStatistics"</span>, <span class="st">"FunctionImputation"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Uniform is now decorated with CoreStatistics, ExoticStatistics, FunctionImputation</span>
<span class="co">#&gt; unif(lower = 1, upper = 10)</span>

<span class="va">U</span><span class="op">$</span><span class="fu">mean</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] 5.5</span>
<span class="va">U</span><span class="op">$</span><span class="fu">variance</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] 6.75</span>
<span class="va">U</span><span class="op">$</span><span class="fu">hazard</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.25</span>
<span class="va">U</span><span class="op">$</span><span class="fu">rand</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] 6.040 3.880 1.657 2.305 1.432</span>
<span class="va">U</span><span class="op">$</span><span class="fu">kurtosis</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] -1.2</span>
<span class="va">U</span><span class="op">$</span><span class="fu">survivalPNorm</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span>
<span class="co">#&gt; Results from numeric calculations are approximate only. Better results may be available.</span>
<span class="co">#&gt; [1] 0.5981347</span></code></pre></div>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>These tutorials have covered everything from the basics of constructing an implemented <code>SDistribution</code> right the way through, accessing and setting parameters, analysis distributions, manipulating them with decorators and wrappers, and finally adding your own custom distribution and using decorators to analyse it. Everything we have covered also applies to the Kernels in distr6, although these have less functionality, to see which are implemented run <code><a href="../../reference/listKernels.html">listKernels()</a></code>.</p>
<p>The <a href="https://alan-turing-institute.github.io/distr6/articles/webs/preliminaries.html">Extension Guidelines</a> explain how to implement your own SDistribution, Kernel, Decorator or Wrapper and the Appendices include discussions about OOP, R6, C vs. R implementation, the current API lifecycle and other design decisions. The <a href="https://github.com/alan-turing-institute/distr6/wiki">project wiki</a> includes design documentation and contributor guidelines, please read these before making a pull request.</p>
<p>We hope you find distr6 intuitive to use but if you have any questions or want to report a bug, please don’t hesitate to <a href="https://github.com/alan-turing-institute/distr6/issues">raise an issue</a>.</p>
<p>Good luck and happy coding!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Raphael Sonabend, Franz Kiraly.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'c08037a20302b0f7fe5a1b7060957f04',
    indexName: 'distr6',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
